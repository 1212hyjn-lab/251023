조인과 서브쿼리는 때에 따라 빠름의 정도는 다르다
조인이 빠를 수도 있고, 서브쿼리가 빠를 수 있다.

-- 001. 전체 축구팀 목록을 팀이름 오름차순으로 출력하시오  
select team_name from team order by team_name collate "C" asc;  
-> select t.team_name from team t order by t.team_name asc;  
  
-- 002. 플레이어의 포지션 종류를 나열하시오. 단 중복은 제거하고, 포지션이 없으면 빈공간으로 두시오  
select distinct  
coalesce(position,'') as position from player;  
-> select distinct  
coalesce(position,'') position from player;  
  
-- 003. 플레이어의 포지션 종류를 나열하시오. 단 중복은 제거하고, 포지션이 없으면 '신입' 으로 기재하시오  
select distinct  
coalesce(position,'신입') as position from player;  
->select distinct  
coalesce(position,'신입') position from player order by position;  
  
-- 004. 수원팀에서 골키퍼(GK)의 이름을 모두 출력하시오. 단 수원팀 ID는 K02 입니다.  
SELECT player_name FROM player WHERE team_id = 'K02' AND position = 'GK';  
->select player_name from player t where t.team_id = 'K02' and position = 'GK';  
  
-- 004-1. 수원팀에서 골키퍼(GK)의 이름을 모두 출력하시오.  
->select player_name from player p join team t on p.team_id = t.team_id where t.region_name = '수원' and p.position = 'GK';  
->select player_name from player p where p.team_id = (  
select team_id from team where region_name = '수원') and p.position = 'GK';

|                                                                |
| -------------------------------------------------------------- |
| -- 005. 수원팀에서 성이 고씨이고 키가 170 이상인 선수를 출력하시오. 단 수원팀 ID는 K02 입니다. |
| SELECT player_name, height                                     |
| FROM player                                                    |
| WHERE team_id = 'K02'                                          |
| AND player_name LIKE '고%'                                      |
| AND height >= 170                                              |

-- SQL_TEST_006 -- 수원팀(ID: K02) 선수들 이름, -- 키와 몸무게 리스트 (단위 cm 와 kg 삽입) -- 키와 몸무게가 없으면 "0" 표시 -- 키 내림차순 
select player_name, 
coalesce(height, 0) || 'cm',
coalesce(weight, 0) || 'kg'
from player
where team_id = 'K02' 
order by height desc;


-- SQL_TEST_007 -- 수원팀(ID: K02) 선수들 이름, -- 키와 몸무게 리스트 (단위 cm 와 kg 삽입) -- 키와 몸무게가 없으면 "0" 표시 -- BMI지수 -- 키 내림차순 
select
    player_name,
    coalesce(height, 0) "cm",
    coalesce(weight, 0) "kg",
    ROUND(
        coalesce(weight, 0) / power(height / 100.0, 2),
        2
    ) "BMI"
from player
where team_id = 'K02'
  and height is not null
  and height > 0
order by coalesce(height, 0) desc

--SQL_TEST_008 -- 수원팀(ID: K02) 과 대전팀(ID: K10)선수들 중 -- 포지션이 GK 인 선수 -- 팀명, 사람명 오름차순 
select t.team_name, p.player_name
from team t join player p
using (team_id)
where team_id in ('K02', 'K10')
	and p.position = 'GK'
order by player_name, team_name desc;

-- SQL_TEST_009 -- 수원팀(ID: K02) 과 대전팀(ID: K10)선수들 중 이 -- 키가 180 이상 183 이하인 선수들 -- 키, 팀명, 사람명 오름차순 

-- SOCCER_SQL_010 -- 모든 선수들 중 -- 포지션을 배정받지 못한 선수들의 팀과 이름 -- 팀명, 사람명 오름차순



선형공간 : DTO// 선형공간은 원소를 가짐

- 하나의 공간은 스칼라
밤이라는 단어는 중복의 뜻이 있음 (_컨텍스트_ ) 맥락으로 파악한다/ sql
자바에서는 리스트가 되는 부분이 sql에서는 인스턴스다
각 줄은 튜플이다.

값 하나하나에 쿼리를 때릴 수 있다.

집합으로 나온 문자열은 객체변수가 된다
방정식에서의 x의 값은 하나를 갖게 되지만
선형구조에서 x는 변수로 여러가지를 갖을 수 있게 된다.

스칼라 : 양 -> 단일 
벡터 : 방향, 양 -> 두개이상

하나의 동그라미가 두개로 늘어났다고 해도 방향이 없으면 스칼라임
어제 설계도에서 화살표로 부모자식을 표현한 것처럼
방향이 있어야함. // 그렇게 백터가 되는 것

- 방향이 생긴 데이터는 stream강물처럼 그냥 흘러가는 것임.
데이터는 자식에서 부모로 간다
이유는 마더보더가 배경화면 흰색이고 뭔가 로그인, 뉴스판 이런 것은
자식이다. 자식이 노출되는 것

그래서 노출된 값이 마더보더로 가는 것이기 때문에 자식에서 부모로 가는 것
이것이 벡터의 전반적인 설명이다.

- 퍼포먼스 중에 스칼라로 던지는게 제일 빠르다.
그 서브쿼르로 던져버리면 옆으로 빠지는게 이게 빨라서 이럴땐 서브쿼리로 던져진
select부분이 스칼라인 것

가능하면 스칼라로 하고, 가능하면 이너를 써라
이너는 디폴트 값이기 때문에 안쓰면 이너임
그리고 풀조인은 잘 쓰지 않음
검색엔진이 느려지기 때문에

- right, left 중에서는 레프트를 더 많이 쓰는데
- self는 특이경우 셀프는 나를 복제하는 것임 그러나, 하나 외에는 달라
근데 셀프는 조인을 쓰지 않아 그냥 복제품을 늘여놔
질문-from뒤에 조인을 쓰고 셀프는 그럼 테이블을 ,로 늘여놓는 것임을 말함

✔️스칼라는 셀렉이야 다른건 없어
온은 조건이야 테이블 연결하기 위한 근거를 대준 것
on을 using으로 쓸 수 있어 
using (team_id) 이렇게
근데 이건 테이블에서 두 속성라인 즉 도메인이 온전히 같아야 함


✔️sql에서 뷰는 생략이 가능해
select 어쩌고 저쩌고는 다 뷰야 그래서 생략가능하고 사용자가 요청할때마다
재창조돼

✔️진짜 데이터 값은 테이블 -> 도커에서
진짜에 대한 허상인데 이것은 뷰 -> sql

우리는 앞으로 sql을 만드는 것임 거친 데이터를 정제하는 것

✔️from은 테이블이지 뷰인데 
from안에 서브쿼리가 들어간 경우를 인라인 뷰라고 한다.

where에 서브쿼리가 들어가면 중첩 서브쿼리라고 한다
결론 = 서브쿼리에는 세개가 있다
🧨스칼라, 인라인뷰, (중첩=생략가능 단어)서브쿼리

인라인뷰를 줄여야 검색엔진이 가장 빨라. 테이블 들어가서 우리가 갖고있는 속성에서 뒤지니까

✔️✔️✔️✔️✔️





